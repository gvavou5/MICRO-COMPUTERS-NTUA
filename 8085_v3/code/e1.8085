CHECK_INPUT:	LDA 2000H			;READ INPUT FROM SWITCHES
			MOV E,A			;SAVE THE INPUT
			MVI D,00H			;OUTPUT REGISTER
			CPI 00H			;ALL LEDS ARE OFF
			JZ DISPLAY

			MOV A,E			;TAKE THE SAVED INPUT
			MVI B,00H			;1ST ACE'S POSITION
			MVI C,00H			;COUNTER


FIND_ACE:		RAR				;CHECK CURRENT LSB 
			INR B				;POSITION++
			JC LED_ON			;IF IS 1 THE LEDS MUST BE TURNED ON
			JNC FIND_ACE		;ELSE CHECK FOR ACE

DISPLAY:		MOV A,D			;A = OUTPUT REGISTER
			CMA
			STA 3000H			;THE OUTPUT WAS INVERSED (NEGATIVE LEDS)
			JMP CHECK_INPUT		;REPEAT PROCESS
			
LED_ON:		MVI A,08H			;WE NEED TO CALCULATE HOW MANY RIGHT SHIFTS WE NEED TO DO
			SUB B			
			MOV B,A
			INR B
			INR B			;B= 08H - POS OF 1ST ACE + 2 = NUM OF RIGHT SHIFTS + 1
			
PREPARE_OUTPUT:	INR C				;COUNTER++
			MOV A,B			;A = NUM OF RIGHT SHIFTS + 1
			CMP C				;IF SHIFTS DONE THEN
			JZ DISPLAY 		;THEN GO TO OUTPUT
			MOV A,D			;ELSE PREPARE THA OUTPUT REGISTER
			STC				;CY = 1
			RAR				;WE PUT ACE IN REGISTER D TO TURN ON THE LEDS
			MOV D,A			;UPDATE D
			JMP PREPARE_OUTPUT	;CONTINUE PREPARING
			
END:			END