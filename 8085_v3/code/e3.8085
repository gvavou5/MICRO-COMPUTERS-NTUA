	IN 10H		;WITHOUT MEMORY'S PROTECTION

START: 
	MVI A,FEH		;CHECK LINE 0
	STA 2800H		;STORE ADDRESS

INSTR_STEP:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0806H	;CODE FROM KIND: 86.THIS IS THE PRINT VALUE
	CPI 06H		;CHECK IF THIS IS THE PRESSED BUTTON
	JZ DISPLAY	;IF IT IS DISPLAY IT IN THE 7-SEGMENT
	
FTCH_PC:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0805H		
	CPI 05H		;PRESSED BUTTON == 101 ?
	JZ DISPLAY
	
	;FOR BUTTON HDWR_STEP WE DO NOTHING BECAUSE IT'S UNUSED 

	MVI A,FDH		;CHECK LINE 1
	STA 2800H
	
BUTTON_RUN:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0804H
	CPI 06H		;PRESSED BUTTON == 110 ?
	JZ DISPLAY
	
FTCH_REG:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0800H
	CPI 05H		;PRESSED BUTTON == 101 ?
	JZ DISPLAY
	
FTCH_ADR:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0802H
	CPI 03H		;PRESSED BUTTON == 011 ?
	JZ DISPLAY
	
	MVI A,FBH		;CHECK LINE 3
	STA 2800H
	
BUTTON0:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0000H
	CPI 06H	
	JZ DISPLAY
	
STORE/INCR:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0803H	
	CPI 05H		
	JZ DISPLAY
	
DECR:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0801H
	CPI 03H		
	JZ DISPLAY
	
	MVI A,F7H		;CHECK LINE 4
	STA 2800H
	
BUTTON1:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0001H
	CPI 06H	
	JZ DISPLAY
	
BUTTON2:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0002H
	CPI 05H		
	JZ DISPLAY
	
BUTTON3:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0003H
	CPI 03H		
	JZ DISPLAY
	
	MVI A,EFH		;CHECK LINE 5
	STA 2800H
	
BUTTON4:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0004H
	CPI 06H	
	JZ DISPLAY
	
BUTTON5:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0005H
	CPI 05H		
	JZ DISPLAY
	
BUTTON6:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0006H
	CPI 03H		
	JZ DISPLAY
	
	MVI A,DFH		;CHECK LINE 6
	STA 2800H
	
BUTTON7:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0007H
	CPI 06H	
	JZ DISPLAY
	
BUTTON8:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0008H
	CPI 05H		
	JZ DISPLAY
	
BUTTON9:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,0009H
	CPI 03H		
	JZ DISPLAY
	
	MVI A,BFH		;CHECK LINE 7
	STA 2800H
	
BUTTONA:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000AH
	CPI 06H	
	JZ DISPLAY
	
BUTTONB:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000BH
	CPI 05H		
	JZ DISPLAY
	
BUTTONC:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000CH
	CPI 03H		
	JZ DISPLAY
	
	MVI A,7FH		;CHECK LINE 8
	STA 2800H
	
BUTTOND:
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000DH
	CPI 06H	
	JZ DISPLAY
	
BUTTONE:	
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000EH
	CPI 05H		
	JZ DISPLAY
	
BUTTONF:		
	LDA 1800H		;LOAD ADDRESS
	ANI 07H		;KEEP THE LAST 3 LSB BIT
	LXI D,000FH
	CPI 03H		
	JZ DISPLAY
	
	JMP START		;PROGRAM NEVER STOPS

	
DISPLAY:
	LXI H,0A00H	;MEMORY TO SAVE THE BUTTON CODE
	MVI B,10H		;TURN OFF THE 4 LS DIGITS OF 7_SEGNMENT 
	MOV M,B		
	INX H			
	MOV M,B		
	INX H
	MOV M,B
	INX H
	MOV M,B
	INX H  		;(H-L)=(D-E)=PRINT VALUE
	MOV M,E 
	INX H 
	MOV M,D 		
	LXI D,0A00H	;STARTING MEMORY POSITION FOR THE EXIT
	CALL STDM		;CALL THE PRINTING PROCCESSES
	CALL DCD
	JMP START		;REPEAT

END:	END