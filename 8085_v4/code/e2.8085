IN 10H		;ACCESS IN THE MEMORY
MVI B,56H		;(B)=56H=86DEC	  
MVI C,ACH 	;(C)=172DEC
MVI A,0DH 	;SWITCH ON THE SWITCHES WITH MASK
SIM 
EI 			;ENABLE INTERRUPTS
MVI A,10H 	;(A)=10H
STA 09A5H 	;STORE THE EMPTY CHARACTER IN 7-SEGMENT
STA 09A4H 	;AT THE 4 LAST PLACES WHICH IS UNSED
STA 09A3H 
STA 09A2H 
LXI H,09A1H	;2 FROM RIGTH DIGIT OF 7-SEGMENT
INR B 		;INCREASE THE LIMITS
INR C 

RELOAD: 
LDA 09A0H 	;CREATE THE NUMBER TO SEE ONE OF THE FIELDS
ANI 0FH 		
MOV E,A 
LDA 09A1H 
RLC 
RLC 
RLC 
RLC 
ANI F0H 		;AND WITH 11110000 TO KEEP THE 4 MOST SIGNIFICANT BITS
ORA E		;CREATE THE NUMBER	
CMP B 		;CHECK IF IS AT [0,K1]
JNC CONTINUE 	;CHECK THE NEXT FIELD
MVI A,FBH		;(A)=11111011 FOR THE THIRD LSB
JMP PUT_THIS 

CONTINUE: 
CMP C 		
JNC KEEP_GOING
MVI A,FDH 	;(A)=11111101 FOR THE SECOND LSB
JMP PUT_THIS

KEEP_GOING: 
MVI A,FEH 	;(A)=11111110 FOR THE FIRST LSB

PUT_THIS: 
STA 3000H 	;LED IS ON OF THE CERTAIN FIELD
PUSH B 		;PUSH IN THE STACK
PUSH H 		;PUSH AGAIN IN THE STACK
LXI D,09A0H 	;DISPLAY THE DIGITS IN 7-SEGMENT
CALL STDM 	
CALL DCD 
POP H 		;POP OUT FROM THE STACK
POP B 		;POP OUT FROM THE STACK
JMP RELOAD 
 
INTR_ROUTINE: 	
PUSH PSW  	;STORE A AND FLAGS IN THE STACK
MVI A,00H 	;LED IS ON TO DECLARE AN INTERRUPT
STA 3000H		
CALL KIND		;READ FROM THE KEYBOARD  
MOV M,A 		;STORE AT THE ADDRESS OF HL
MOV A,L		  
XRI 01H		;XOR WITH 0000001 TO READ THE NEXT DIGIT 
MOV L,A		 
POP PSW 		;POP OUT FROM THE STACK
EI 			;ENABLE THE INTERRUPTS
RET 			;RESTORE

END: END 